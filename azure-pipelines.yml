trigger:
- main

pool:
  name: default

stages:

# üî® STAGE 1: BUILD + TEST + PUSH IMAGE
- stage: Build
  displayName: "Build and Test Stage"
  jobs:
  - job: BuildJob
    displayName: "Build Angular App, Test, Dockerize"
    steps:

    # Checkout code
    - checkout: self
      clean: true

    # V√©rifier package.json
    - script: |
        if [ ! -f "$(Build.SourcesDirectory)/angular-app-kubernetes/package.json" ]; then
          echo "‚ùå Erreur: package.json introuvable !"
          exit 1
        fi
      displayName: "V√©rifier l'existence de package.json"

   